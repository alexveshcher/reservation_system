  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "from" datetime, "to" datetime, "user_id" integer, "table_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (41.8ms)[0m  [1m[35mCREATE  INDEX "index_reservations_on_table_id" ON "reservations" ("table_id")[0m
  [1m[35m (0.3ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_reservations_on_table_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_reservations_on_table_id' AND type='index'
[0m
  [1m[35m (20.6ms)[0m  [1m[35mCREATE  INDEX "index_reservations_on_user_id" ON "reservations" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (144.2ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedules"[0m
  [1m[35m (20.9ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "from" datetime, "to" datetime, "restaurant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (141.1ms)[0m  [1m[35mCREATE  INDEX "index_schedules_on_restaurant_id" ON "schedules" ("restaurant_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "tables"[0m
  [1m[35m (20.8ms)[0m  [1m[35mCREATE TABLE "tables" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "restaurant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (42.3ms)[0m  [1m[35mCREATE  INDEX "index_tables_on_restaurant_id" ON "tables" ("restaurant_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (127.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "phone_number" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (42.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20180421080518)[0m
  [1m[35m (135.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20180421080144),
(20180421080328),
(20180421080243),
(20180421080057);

[0m
  [1m[35m (20.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2018-04-21 09:27:41.599280"], ["updated_at", "2018-04-21 09:27:41.599280"]]
  [1m[35m (135.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:27:41.818641"], ["updated_at", "2018-04-21 09:27:41.818641"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:27:41.828528"], ["updated_at", "2018-04-21 09:27:41.828528"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:27:41.829902"], ["updated_at", "2018-04-21 09:27:41.829902"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:27:41.831008"], ["updated_at", "2018-04-21 09:27:41.831008"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:27:41.832086"], ["updated_at", "2018-04-21 09:27:41.832086"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:27:41.833106"], ["updated_at", "2018-04-21 09:27:41.833106"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:27:41.834075"], ["updated_at", "2018-04-21 09:27:41.834075"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:27:41.835136"], ["updated_at", "2018-04-21 09:27:41.835136"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:27:41.836165"], ["updated_at", "2018-04-21 09:27:41.836165"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:27:41.837149"], ["updated_at", "2018-04-21 09:27:41.837149"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:27:41.838183"], ["updated_at", "2018-04-21 09:27:41.838183"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:27:41.843783"], ["updated_at", "2018-04-21 09:27:41.843783"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT "tables".* FROM "tables"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:27:59.405795"], ["updated_at", "2018-04-21 09:27:59.405795"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:27:59.414562"], ["updated_at", "2018-04-21 09:27:59.414562"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:27:59.415976"], ["updated_at", "2018-04-21 09:27:59.415976"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:27:59.417020"], ["updated_at", "2018-04-21 09:27:59.417020"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:27:59.418005"], ["updated_at", "2018-04-21 09:27:59.418005"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:27:59.419018"], ["updated_at", "2018-04-21 09:27:59.419018"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:27:59.420005"], ["updated_at", "2018-04-21 09:27:59.420005"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:27:59.421061"], ["updated_at", "2018-04-21 09:27:59.421061"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:27:59.422092"], ["updated_at", "2018-04-21 09:27:59.422092"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:27:59.423114"], ["updated_at", "2018-04-21 09:27:59.423114"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:27:59.424167"], ["updated_at", "2018-04-21 09:27:59.424167"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:27:59.429444"], ["updated_at", "2018-04-21 09:27:59.429444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT "tables".* FROM "tables"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 4], ["created_at", "2018-04-21 09:27:59.438277"], ["updated_at", "2018-04-21 09:27:59.438277"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:28:13.415601"], ["updated_at", "2018-04-21 09:28:13.415601"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:28:13.424387"], ["updated_at", "2018-04-21 09:28:13.424387"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:28:13.425743"], ["updated_at", "2018-04-21 09:28:13.425743"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:28:13.426797"], ["updated_at", "2018-04-21 09:28:13.426797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:28:13.427796"], ["updated_at", "2018-04-21 09:28:13.427796"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:28:13.428803"], ["updated_at", "2018-04-21 09:28:13.428803"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:28:13.429858"], ["updated_at", "2018-04-21 09:28:13.429858"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:28:13.430944"], ["updated_at", "2018-04-21 09:28:13.430944"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:28:13.432010"], ["updated_at", "2018-04-21 09:28:13.432010"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:28:13.433030"], ["updated_at", "2018-04-21 09:28:13.433030"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:28:13.434044"], ["updated_at", "2018-04-21 09:28:13.434044"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:28:13.439303"], ["updated_at", "2018-04-21 09:28:13.439303"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT "tables".* FROM "tables"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 5], ["created_at", "2018-04-21 09:28:13.448030"], ["updated_at", "2018-04-21 09:28:13.448030"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:35:01.141827"], ["updated_at", "2018-04-21 09:35:01.141827"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:01.149888"], ["updated_at", "2018-04-21 09:35:01.149888"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:01.151194"], ["updated_at", "2018-04-21 09:35:01.151194"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:01.152167"], ["updated_at", "2018-04-21 09:35:01.152167"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:01.153118"], ["updated_at", "2018-04-21 09:35:01.153118"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:01.154078"], ["updated_at", "2018-04-21 09:35:01.154078"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:35:01.155042"], ["updated_at", "2018-04-21 09:35:01.155042"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:01.156090"], ["updated_at", "2018-04-21 09:35:01.156090"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:01.157086"], ["updated_at", "2018-04-21 09:35:01.157086"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:01.158026"], ["updated_at", "2018-04-21 09:35:01.158026"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:01.158975"], ["updated_at", "2018-04-21 09:35:01.158975"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:35:01.163933"], ["updated_at", "2018-04-21 09:35:01.163933"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:35:01.172900"], ["updated_at", "2018-04-21 09:35:01.172900"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:35:01.175761"], ["updated_at", "2018-04-21 09:35:01.175761"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:35:17.041891"], ["updated_at", "2018-04-21 09:35:17.041891"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:17.050581"], ["updated_at", "2018-04-21 09:35:17.050581"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:17.051971"], ["updated_at", "2018-04-21 09:35:17.051971"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:17.053010"], ["updated_at", "2018-04-21 09:35:17.053010"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:17.054059"], ["updated_at", "2018-04-21 09:35:17.054059"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:17.055080"], ["updated_at", "2018-04-21 09:35:17.055080"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:35:17.056097"], ["updated_at", "2018-04-21 09:35:17.056097"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:17.057149"], ["updated_at", "2018-04-21 09:35:17.057149"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:17.058199"], ["updated_at", "2018-04-21 09:35:17.058199"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:17.059235"], ["updated_at", "2018-04-21 09:35:17.059235"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:17.060274"], ["updated_at", "2018-04-21 09:35:17.060274"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:35:17.065552"], ["updated_at", "2018-04-21 09:35:17.065552"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:35:17.075178"], ["updated_at", "2018-04-21 09:35:17.075178"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:35:17.078155"], ["updated_at", "2018-04-21 09:35:17.078155"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:35:57.997854"], ["updated_at", "2018-04-21 09:35:57.997854"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:58.006640"], ["updated_at", "2018-04-21 09:35:58.006640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:58.008028"], ["updated_at", "2018-04-21 09:35:58.008028"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:58.009045"], ["updated_at", "2018-04-21 09:35:58.009045"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:58.010020"], ["updated_at", "2018-04-21 09:35:58.010020"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:58.010997"], ["updated_at", "2018-04-21 09:35:58.010997"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:35:58.012034"], ["updated_at", "2018-04-21 09:35:58.012034"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:58.013150"], ["updated_at", "2018-04-21 09:35:58.013150"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:58.014180"], ["updated_at", "2018-04-21 09:35:58.014180"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:58.015188"], ["updated_at", "2018-04-21 09:35:58.015188"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:58.016251"], ["updated_at", "2018-04-21 09:35:58.016251"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:35:58.021554"], ["updated_at", "2018-04-21 09:35:58.021554"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:35:58.031453"], ["updated_at", "2018-04-21 09:35:58.031453"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:35:58.034584"], ["updated_at", "2018-04-21 09:35:58.034584"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:58.036160"], ["updated_at", "2018-04-21 09:35:58.036160"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:58.037302"], ["updated_at", "2018-04-21 09:35:58.037302"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:58.038344"], ["updated_at", "2018-04-21 09:35:58.038344"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:58.039325"], ["updated_at", "2018-04-21 09:35:58.039325"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:35:58.040284"], ["updated_at", "2018-04-21 09:35:58.040284"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:35:58.041299"], ["updated_at", "2018-04-21 09:35:58.041299"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:58.042405"], ["updated_at", "2018-04-21 09:35:58.042405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:58.043413"], ["updated_at", "2018-04-21 09:35:58.043413"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:58.044501"], ["updated_at", "2018-04-21 09:35:58.044501"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:35:58.045505"], ["updated_at", "2018-04-21 09:35:58.045505"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:35:58.046444"], ["updated_at", "2018-04-21 09:35:58.046444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:35:58.048265"], ["updated_at", "2018-04-21 09:35:58.048265"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-21 01:00:00"], ["to", "2018-04-21 04:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:35:58.050113"], ["updated_at", "2018-04-21 09:35:58.050113"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:45:56.934465"], ["updated_at", "2018-04-21 09:45:56.934465"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:45:56.942582"], ["updated_at", "2018-04-21 09:45:56.942582"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:45:56.943880"], ["updated_at", "2018-04-21 09:45:56.943880"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:45:56.944854"], ["updated_at", "2018-04-21 09:45:56.944854"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:45:56.945792"], ["updated_at", "2018-04-21 09:45:56.945792"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:45:56.946745"], ["updated_at", "2018-04-21 09:45:56.946745"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:45:56.947692"], ["updated_at", "2018-04-21 09:45:56.947692"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:45:56.948746"], ["updated_at", "2018-04-21 09:45:56.948746"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:45:56.949730"], ["updated_at", "2018-04-21 09:45:56.949730"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:45:56.950694"], ["updated_at", "2018-04-21 09:45:56.950694"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:45:56.951634"], ["updated_at", "2018-04-21 09:45:56.951634"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:45:56.956576"], ["updated_at", "2018-04-21 09:45:56.956576"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:45:56.967698"], ["updated_at", "2018-04-21 09:45:56.967698"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:45:56.969229"], ["updated_at", "2018-04-21 09:45:56.969229"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:45:56.970403"], ["updated_at", "2018-04-21 09:45:56.970403"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:45:56.971385"], ["updated_at", "2018-04-21 09:45:56.971385"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:45:56.972306"], ["updated_at", "2018-04-21 09:45:56.972306"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:45:56.973274"], ["updated_at", "2018-04-21 09:45:56.973274"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:45:56.974203"], ["updated_at", "2018-04-21 09:45:56.974203"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:45:56.975256"], ["updated_at", "2018-04-21 09:45:56.975256"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:45:56.976228"], ["updated_at", "2018-04-21 09:45:56.976228"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:45:56.977233"], ["updated_at", "2018-04-21 09:45:56.977233"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:45:56.978262"], ["updated_at", "2018-04-21 09:45:56.978262"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:45:56.979185"], ["updated_at", "2018-04-21 09:45:56.979185"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:46:14.334876"], ["updated_at", "2018-04-21 09:46:14.334876"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:46:14.342979"], ["updated_at", "2018-04-21 09:46:14.342979"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:46:14.344282"], ["updated_at", "2018-04-21 09:46:14.344282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:46:14.345274"], ["updated_at", "2018-04-21 09:46:14.345274"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:46:14.346208"], ["updated_at", "2018-04-21 09:46:14.346208"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:46:14.347156"], ["updated_at", "2018-04-21 09:46:14.347156"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:46:14.348124"], ["updated_at", "2018-04-21 09:46:14.348124"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:46:14.349162"], ["updated_at", "2018-04-21 09:46:14.349162"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:46:14.350167"], ["updated_at", "2018-04-21 09:46:14.350167"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:46:14.351119"], ["updated_at", "2018-04-21 09:46:14.351119"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:46:14.352083"], ["updated_at", "2018-04-21 09:46:14.352083"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:46:14.357030"], ["updated_at", "2018-04-21 09:46:14.357030"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:46:14.368040"], ["updated_at", "2018-04-21 09:46:14.368040"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:46:14.369534"], ["updated_at", "2018-04-21 09:46:14.369534"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:46:14.370701"], ["updated_at", "2018-04-21 09:46:14.370701"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:46:14.371684"], ["updated_at", "2018-04-21 09:46:14.371684"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:46:14.372615"], ["updated_at", "2018-04-21 09:46:14.372615"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:46:14.373514"], ["updated_at", "2018-04-21 09:46:14.373514"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:46:14.374447"], ["updated_at", "2018-04-21 09:46:14.374447"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:46:14.375467"], ["updated_at", "2018-04-21 09:46:14.375467"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:46:14.376452"], ["updated_at", "2018-04-21 09:46:14.376452"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:46:14.377451"], ["updated_at", "2018-04-21 09:46:14.377451"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:46:14.378542"], ["updated_at", "2018-04-21 09:46:14.378542"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:46:14.379454"], ["updated_at", "2018-04-21 09:46:14.379454"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:49:56.905099"], ["updated_at", "2018-04-21 09:49:56.905099"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:49:56.913276"], ["updated_at", "2018-04-21 09:49:56.913276"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:49:56.914600"], ["updated_at", "2018-04-21 09:49:56.914600"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:49:56.915576"], ["updated_at", "2018-04-21 09:49:56.915576"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:49:56.916592"], ["updated_at", "2018-04-21 09:49:56.916592"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:49:56.917621"], ["updated_at", "2018-04-21 09:49:56.917621"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:49:56.918616"], ["updated_at", "2018-04-21 09:49:56.918616"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:49:56.919687"], ["updated_at", "2018-04-21 09:49:56.919687"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:49:56.920731"], ["updated_at", "2018-04-21 09:49:56.920731"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:49:56.921772"], ["updated_at", "2018-04-21 09:49:56.921772"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:49:56.922799"], ["updated_at", "2018-04-21 09:49:56.922799"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:49:56.927850"], ["updated_at", "2018-04-21 09:49:56.927850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:49:56.938520"], ["updated_at", "2018-04-21 09:49:56.938520"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:49:56.951093"], ["updated_at", "2018-04-21 09:49:56.951093"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:49:56.952631"], ["updated_at", "2018-04-21 09:49:56.952631"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:49:56.953821"], ["updated_at", "2018-04-21 09:49:56.953821"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:49:56.954840"], ["updated_at", "2018-04-21 09:49:56.954840"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:49:56.955795"], ["updated_at", "2018-04-21 09:49:56.955795"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:49:56.956747"], ["updated_at", "2018-04-21 09:49:56.956747"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:49:56.957757"], ["updated_at", "2018-04-21 09:49:56.957757"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:49:56.958792"], ["updated_at", "2018-04-21 09:49:56.958792"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:49:56.959784"], ["updated_at", "2018-04-21 09:49:56.959784"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:49:56.960857"], ["updated_at", "2018-04-21 09:49:56.960857"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:49:56.962095"], ["updated_at", "2018-04-21 09:49:56.962095"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:49:56.963134"], ["updated_at", "2018-04-21 09:49:56.963134"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:49:56.965527"], ["updated_at", "2018-04-21 09:49:56.965527"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-21 01:00:00"], ["to", "2018-04-21 04:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:49:56.968102"], ["updated_at", "2018-04-21 09:49:56.968102"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:51:30.201400"], ["updated_at", "2018-04-21 09:51:30.201400"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:30.209481"], ["updated_at", "2018-04-21 09:51:30.209481"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:30.210825"], ["updated_at", "2018-04-21 09:51:30.210825"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:30.211848"], ["updated_at", "2018-04-21 09:51:30.211848"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:30.212801"], ["updated_at", "2018-04-21 09:51:30.212801"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:30.213726"], ["updated_at", "2018-04-21 09:51:30.213726"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:51:30.214688"], ["updated_at", "2018-04-21 09:51:30.214688"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:30.215734"], ["updated_at", "2018-04-21 09:51:30.215734"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:30.216708"], ["updated_at", "2018-04-21 09:51:30.216708"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:30.217643"], ["updated_at", "2018-04-21 09:51:30.217643"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:30.218596"], ["updated_at", "2018-04-21 09:51:30.218596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:51:30.223510"], ["updated_at", "2018-04-21 09:51:30.223510"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:51:30.233925"], ["updated_at", "2018-04-21 09:51:30.233925"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:51:30.246462"], ["updated_at", "2018-04-21 09:51:30.246462"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:30.247987"], ["updated_at", "2018-04-21 09:51:30.247987"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:30.249155"], ["updated_at", "2018-04-21 09:51:30.249155"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:30.250126"], ["updated_at", "2018-04-21 09:51:30.250126"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:30.251070"], ["updated_at", "2018-04-21 09:51:30.251070"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:30.251989"], ["updated_at", "2018-04-21 09:51:30.251989"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:51:30.252903"], ["updated_at", "2018-04-21 09:51:30.252903"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:30.253915"], ["updated_at", "2018-04-21 09:51:30.253915"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:30.254899"], ["updated_at", "2018-04-21 09:51:30.254899"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:30.255897"], ["updated_at", "2018-04-21 09:51:30.255897"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:30.256925"], ["updated_at", "2018-04-21 09:51:30.256925"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:51:30.257866"], ["updated_at", "2018-04-21 09:51:30.257866"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:51:30.260210"], ["updated_at", "2018-04-21 09:51:30.260210"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-21 01:00:00"], ["to", "2018-04-21 04:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:51:30.262523"], ["updated_at", "2018-04-21 09:51:30.262523"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:51:47.361768"], ["updated_at", "2018-04-21 09:51:47.361768"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:47.369811"], ["updated_at", "2018-04-21 09:51:47.369811"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:47.371130"], ["updated_at", "2018-04-21 09:51:47.371130"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:47.372114"], ["updated_at", "2018-04-21 09:51:47.372114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:47.373080"], ["updated_at", "2018-04-21 09:51:47.373080"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:47.374035"], ["updated_at", "2018-04-21 09:51:47.374035"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:51:47.374975"], ["updated_at", "2018-04-21 09:51:47.374975"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:47.376025"], ["updated_at", "2018-04-21 09:51:47.376025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:47.377022"], ["updated_at", "2018-04-21 09:51:47.377022"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:47.377966"], ["updated_at", "2018-04-21 09:51:47.377966"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:47.378923"], ["updated_at", "2018-04-21 09:51:47.378923"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:51:47.383930"], ["updated_at", "2018-04-21 09:51:47.383930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:51:47.394447"], ["updated_at", "2018-04-21 09:51:47.394447"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:51:47.397872"], ["updated_at", "2018-04-21 09:51:47.397872"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:47.399382"], ["updated_at", "2018-04-21 09:51:47.399382"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:47.400515"], ["updated_at", "2018-04-21 09:51:47.400515"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:47.401532"], ["updated_at", "2018-04-21 09:51:47.401532"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:47.402509"], ["updated_at", "2018-04-21 09:51:47.402509"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:51:47.403451"], ["updated_at", "2018-04-21 09:51:47.403451"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:51:47.404416"], ["updated_at", "2018-04-21 09:51:47.404416"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:47.405424"], ["updated_at", "2018-04-21 09:51:47.405424"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:47.406408"], ["updated_at", "2018-04-21 09:51:47.406408"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:47.407380"], ["updated_at", "2018-04-21 09:51:47.407380"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:51:47.408391"], ["updated_at", "2018-04-21 09:51:47.408391"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:51:47.409357"], ["updated_at", "2018-04-21 09:51:47.409357"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:51:47.411721"], ["updated_at", "2018-04-21 09:51:47.411721"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-21 01:00:00"], ["to", "2018-04-21 04:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:51:47.414086"], ["updated_at", "2018-04-21 09:51:47.414086"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:52:47.584996"], ["updated_at", "2018-04-21 09:52:47.584996"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:52:47.595985"], ["updated_at", "2018-04-21 09:52:47.595985"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:52:47.597540"], ["updated_at", "2018-04-21 09:52:47.597540"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:52:47.598705"], ["updated_at", "2018-04-21 09:52:47.598705"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:52:47.599724"], ["updated_at", "2018-04-21 09:52:47.599724"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:52:47.600719"], ["updated_at", "2018-04-21 09:52:47.600719"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:52:47.601705"], ["updated_at", "2018-04-21 09:52:47.601705"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:52:47.602767"], ["updated_at", "2018-04-21 09:52:47.602767"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:52:47.603914"], ["updated_at", "2018-04-21 09:52:47.603914"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:52:47.608479"], ["updated_at", "2018-04-21 09:52:47.608479"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:52:47.609708"], ["updated_at", "2018-04-21 09:52:47.609708"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:52:47.615178"], ["updated_at", "2018-04-21 09:52:47.615178"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:52:47.627996"], ["updated_at", "2018-04-21 09:52:47.627996"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:52:47.631663"], ["updated_at", "2018-04-21 09:52:47.631663"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:52:47.633197"], ["updated_at", "2018-04-21 09:52:47.633197"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:52:47.634346"], ["updated_at", "2018-04-21 09:52:47.634346"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:52:47.635345"], ["updated_at", "2018-04-21 09:52:47.635345"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:52:47.636368"], ["updated_at", "2018-04-21 09:52:47.636368"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:52:47.637420"], ["updated_at", "2018-04-21 09:52:47.637420"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:52:47.638397"], ["updated_at", "2018-04-21 09:52:47.638397"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:52:47.639459"], ["updated_at", "2018-04-21 09:52:47.639459"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:52:47.640489"], ["updated_at", "2018-04-21 09:52:47.640489"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:52:47.641525"], ["updated_at", "2018-04-21 09:52:47.641525"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:52:47.642542"], ["updated_at", "2018-04-21 09:52:47.642542"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:52:47.643524"], ["updated_at", "2018-04-21 09:52:47.643524"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:52:47.646012"], ["updated_at", "2018-04-21 09:52:47.646012"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-21 01:00:00"], ["to", "2018-04-21 04:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:52:47.648407"], ["updated_at", "2018-04-21 09:52:47.648407"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:57:29.958748"], ["updated_at", "2018-04-21 09:57:29.958748"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:29.967067"], ["updated_at", "2018-04-21 09:57:29.967067"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:29.968435"], ["updated_at", "2018-04-21 09:57:29.968435"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:29.969440"], ["updated_at", "2018-04-21 09:57:29.969440"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:29.970388"], ["updated_at", "2018-04-21 09:57:29.970388"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:29.971351"], ["updated_at", "2018-04-21 09:57:29.971351"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:57:29.972345"], ["updated_at", "2018-04-21 09:57:29.972345"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:29.973364"], ["updated_at", "2018-04-21 09:57:29.973364"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:29.974366"], ["updated_at", "2018-04-21 09:57:29.974366"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:29.975347"], ["updated_at", "2018-04-21 09:57:29.975347"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:29.976301"], ["updated_at", "2018-04-21 09:57:29.976301"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:57:29.981382"], ["updated_at", "2018-04-21 09:57:29.981382"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:57:29.992024"], ["updated_at", "2018-04-21 09:57:29.992024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:57:29.995567"], ["updated_at", "2018-04-21 09:57:29.995567"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:29.997114"], ["updated_at", "2018-04-21 09:57:29.997114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:29.998245"], ["updated_at", "2018-04-21 09:57:29.998245"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:29.999295"], ["updated_at", "2018-04-21 09:57:29.999295"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:30.000301"], ["updated_at", "2018-04-21 09:57:30.000301"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:30.001253"], ["updated_at", "2018-04-21 09:57:30.001253"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:57:30.002187"], ["updated_at", "2018-04-21 09:57:30.002187"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:30.003260"], ["updated_at", "2018-04-21 09:57:30.003260"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:30.004335"], ["updated_at", "2018-04-21 09:57:30.004335"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:30.005354"], ["updated_at", "2018-04-21 09:57:30.005354"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:30.006357"], ["updated_at", "2018-04-21 09:57:30.006357"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:57:30.007291"], ["updated_at", "2018-04-21 09:57:30.007291"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:57:30.009649"], ["updated_at", "2018-04-21 09:57:30.009649"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-21 01:00:00"], ["to", "2018-04-21 04:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:57:30.012081"], ["updated_at", "2018-04-21 09:57:30.012081"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:57:40.978903"], ["updated_at", "2018-04-21 09:57:40.978903"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:40.987635"], ["updated_at", "2018-04-21 09:57:40.987635"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:40.988994"], ["updated_at", "2018-04-21 09:57:40.988994"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:40.990024"], ["updated_at", "2018-04-21 09:57:40.990024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:40.991001"], ["updated_at", "2018-04-21 09:57:40.991001"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:40.991964"], ["updated_at", "2018-04-21 09:57:40.991964"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:57:40.992968"], ["updated_at", "2018-04-21 09:57:40.992968"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:40.994043"], ["updated_at", "2018-04-21 09:57:40.994043"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:40.995076"], ["updated_at", "2018-04-21 09:57:40.995076"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:40.996074"], ["updated_at", "2018-04-21 09:57:40.996074"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:40.997058"], ["updated_at", "2018-04-21 09:57:40.997058"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:57:41.002405"], ["updated_at", "2018-04-21 09:57:41.002405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:57:41.013711"], ["updated_at", "2018-04-21 09:57:41.013711"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:57:41.033204"], ["updated_at", "2018-04-21 09:57:41.033204"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:41.034940"], ["updated_at", "2018-04-21 09:57:41.034940"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:41.036309"], ["updated_at", "2018-04-21 09:57:41.036309"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:41.037588"], ["updated_at", "2018-04-21 09:57:41.037588"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:41.039207"], ["updated_at", "2018-04-21 09:57:41.039207"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:41.040549"], ["updated_at", "2018-04-21 09:57:41.040549"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:57:41.041735"], ["updated_at", "2018-04-21 09:57:41.041735"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:41.043134"], ["updated_at", "2018-04-21 09:57:41.043134"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:41.044431"], ["updated_at", "2018-04-21 09:57:41.044431"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:41.045413"], ["updated_at", "2018-04-21 09:57:41.045413"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:41.046586"], ["updated_at", "2018-04-21 09:57:41.046586"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:57:41.047706"], ["updated_at", "2018-04-21 09:57:41.047706"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:57:41.050868"], ["updated_at", "2018-04-21 09:57:41.050868"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-21 01:00:00"], ["to", "2018-04-21 04:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:57:41.054147"], ["updated_at", "2018-04-21 09:57:41.054147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:57:55.075504"], ["updated_at", "2018-04-21 09:57:55.075504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:55.084176"], ["updated_at", "2018-04-21 09:57:55.084176"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:55.085781"], ["updated_at", "2018-04-21 09:57:55.085781"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:55.086921"], ["updated_at", "2018-04-21 09:57:55.086921"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:55.087928"], ["updated_at", "2018-04-21 09:57:55.087928"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:55.088906"], ["updated_at", "2018-04-21 09:57:55.088906"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:57:55.089892"], ["updated_at", "2018-04-21 09:57:55.089892"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:55.090991"], ["updated_at", "2018-04-21 09:57:55.090991"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:55.092000"], ["updated_at", "2018-04-21 09:57:55.092000"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:55.093044"], ["updated_at", "2018-04-21 09:57:55.093044"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:55.094041"], ["updated_at", "2018-04-21 09:57:55.094041"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:57:55.099266"], ["updated_at", "2018-04-21 09:57:55.099266"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:57:55.110342"], ["updated_at", "2018-04-21 09:57:55.110342"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:57:55.114045"], ["updated_at", "2018-04-21 09:57:55.114045"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:55.115604"], ["updated_at", "2018-04-21 09:57:55.115604"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:55.116762"], ["updated_at", "2018-04-21 09:57:55.116762"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:55.117783"], ["updated_at", "2018-04-21 09:57:55.117783"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:55.118769"], ["updated_at", "2018-04-21 09:57:55.118769"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 09:57:55.119750"], ["updated_at", "2018-04-21 09:57:55.119750"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 09:57:55.120727"], ["updated_at", "2018-04-21 09:57:55.120727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:55.121822"], ["updated_at", "2018-04-21 09:57:55.121822"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:55.122839"], ["updated_at", "2018-04-21 09:57:55.122839"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:55.123887"], ["updated_at", "2018-04-21 09:57:55.123887"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 09:57:55.124932"], ["updated_at", "2018-04-21 09:57:55.124932"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 09:57:55.125905"], ["updated_at", "2018-04-21 09:57:55.125905"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:57:55.128419"], ["updated_at", "2018-04-21 09:57:55.128419"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-21 01:00:00"], ["to", "2018-04-21 04:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 09:57:55.130875"], ["updated_at", "2018-04-21 09:57:55.130875"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:02:02.764759"], ["updated_at", "2018-04-21 10:02:02.764759"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:02.772884"], ["updated_at", "2018-04-21 10:02:02.772884"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:02.774153"], ["updated_at", "2018-04-21 10:02:02.774153"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:02.775129"], ["updated_at", "2018-04-21 10:02:02.775129"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:02.776098"], ["updated_at", "2018-04-21 10:02:02.776098"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:02.777104"], ["updated_at", "2018-04-21 10:02:02.777104"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:02:02.778098"], ["updated_at", "2018-04-21 10:02:02.778098"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:02.779116"], ["updated_at", "2018-04-21 10:02:02.779116"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:02.780115"], ["updated_at", "2018-04-21 10:02:02.780115"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:02.781064"], ["updated_at", "2018-04-21 10:02:02.781064"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:02.782003"], ["updated_at", "2018-04-21 10:02:02.782003"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 10:02:02.786903"], ["updated_at", "2018-04-21 10:02:02.786903"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 10:02:02.797322"], ["updated_at", "2018-04-21 10:02:02.797322"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:02:02.809695"], ["updated_at", "2018-04-21 10:02:02.809695"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:02.811132"], ["updated_at", "2018-04-21 10:02:02.811132"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:02.812266"], ["updated_at", "2018-04-21 10:02:02.812266"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:02.813234"], ["updated_at", "2018-04-21 10:02:02.813234"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:02.814178"], ["updated_at", "2018-04-21 10:02:02.814178"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:02.815115"], ["updated_at", "2018-04-21 10:02:02.815115"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:02:02.816029"], ["updated_at", "2018-04-21 10:02:02.816029"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:02.817068"], ["updated_at", "2018-04-21 10:02:02.817068"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:02.818050"], ["updated_at", "2018-04-21 10:02:02.818050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:02.819061"], ["updated_at", "2018-04-21 10:02:02.819061"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:02.820119"], ["updated_at", "2018-04-21 10:02:02.820119"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 10:02:02.821043"], ["updated_at", "2018-04-21 10:02:02.821043"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 10:02:02.823467"], ["updated_at", "2018-04-21 10:02:02.823467"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-21 01:00:00"], ["to", "2018-04-21 04:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 10:02:02.825863"], ["updated_at", "2018-04-21 10:02:02.825863"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:02:27.333174"], ["updated_at", "2018-04-21 10:02:27.333174"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:27.341317"], ["updated_at", "2018-04-21 10:02:27.341317"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:27.342617"], ["updated_at", "2018-04-21 10:02:27.342617"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:27.343586"], ["updated_at", "2018-04-21 10:02:27.343586"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:27.344516"], ["updated_at", "2018-04-21 10:02:27.344516"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:27.345473"], ["updated_at", "2018-04-21 10:02:27.345473"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:02:27.346458"], ["updated_at", "2018-04-21 10:02:27.346458"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:27.347491"], ["updated_at", "2018-04-21 10:02:27.347491"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:27.348506"], ["updated_at", "2018-04-21 10:02:27.348506"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:27.349447"], ["updated_at", "2018-04-21 10:02:27.349447"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:27.350395"], ["updated_at", "2018-04-21 10:02:27.350395"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 10:02:27.355414"], ["updated_at", "2018-04-21 10:02:27.355414"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 10:02:27.366292"], ["updated_at", "2018-04-21 10:02:27.366292"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:02:27.378905"], ["updated_at", "2018-04-21 10:02:27.378905"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:27.380424"], ["updated_at", "2018-04-21 10:02:27.380424"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:27.381570"], ["updated_at", "2018-04-21 10:02:27.381570"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:27.382537"], ["updated_at", "2018-04-21 10:02:27.382537"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:27.383518"], ["updated_at", "2018-04-21 10:02:27.383518"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:27.384496"], ["updated_at", "2018-04-21 10:02:27.384496"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:02:27.385438"], ["updated_at", "2018-04-21 10:02:27.385438"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:27.386485"], ["updated_at", "2018-04-21 10:02:27.386485"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:27.387478"], ["updated_at", "2018-04-21 10:02:27.387478"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:27.388413"], ["updated_at", "2018-04-21 10:02:27.388413"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:27.389361"], ["updated_at", "2018-04-21 10:02:27.389361"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 10:02:27.390310"], ["updated_at", "2018-04-21 10:02:27.390310"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 10:02:27.393958"], ["updated_at", "2018-04-21 10:02:27.393958"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-21 01:00:00"], ["to", "2018-04-21 04:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 10:02:27.396685"], ["updated_at", "2018-04-21 10:02:27.396685"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:02:58.033328"], ["updated_at", "2018-04-21 10:02:58.033328"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:58.041363"], ["updated_at", "2018-04-21 10:02:58.041363"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:58.042713"], ["updated_at", "2018-04-21 10:02:58.042713"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:58.043722"], ["updated_at", "2018-04-21 10:02:58.043722"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:58.044682"], ["updated_at", "2018-04-21 10:02:58.044682"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:58.045649"], ["updated_at", "2018-04-21 10:02:58.045649"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:02:58.046612"], ["updated_at", "2018-04-21 10:02:58.046612"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:58.047658"], ["updated_at", "2018-04-21 10:02:58.047658"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:58.048643"], ["updated_at", "2018-04-21 10:02:58.048643"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:58.049581"], ["updated_at", "2018-04-21 10:02:58.049581"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:58.050582"], ["updated_at", "2018-04-21 10:02:58.050582"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 10:02:58.056594"], ["updated_at", "2018-04-21 10:02:58.056594"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 10:02:58.066676"], ["updated_at", "2018-04-21 10:02:58.066676"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:02:58.079922"], ["updated_at", "2018-04-21 10:02:58.079922"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:58.081534"], ["updated_at", "2018-04-21 10:02:58.081534"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:58.082664"], ["updated_at", "2018-04-21 10:02:58.082664"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:58.083641"], ["updated_at", "2018-04-21 10:02:58.083641"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:58.084589"], ["updated_at", "2018-04-21 10:02:58.084589"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:02:58.085516"], ["updated_at", "2018-04-21 10:02:58.085516"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:02:58.086457"], ["updated_at", "2018-04-21 10:02:58.086457"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:58.087485"], ["updated_at", "2018-04-21 10:02:58.087485"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:58.088460"], ["updated_at", "2018-04-21 10:02:58.088460"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:58.089375"], ["updated_at", "2018-04-21 10:02:58.089375"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:02:58.090300"], ["updated_at", "2018-04-21 10:02:58.090300"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 10:02:58.092872"], ["updated_at", "2018-04-21 10:02:58.092872"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 10:02:58.095451"], ["updated_at", "2018-04-21 10:02:58.095451"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-21 01:00:00"], ["to", "2018-04-21 04:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 10:02:58.097799"], ["updated_at", "2018-04-21 10:02:58.097799"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 01:00:00"], ["from", "2018-04-21 04:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:04:45.421354"], ["updated_at", "2018-04-21 10:04:45.421354"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:04:45.430599"], ["updated_at", "2018-04-21 10:04:45.430599"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:04:45.431961"], ["updated_at", "2018-04-21 10:04:45.431961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:04:45.432997"], ["updated_at", "2018-04-21 10:04:45.432997"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:04:45.434041"], ["updated_at", "2018-04-21 10:04:45.434041"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:04:45.435066"], ["updated_at", "2018-04-21 10:04:45.435066"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:04:45.436083"], ["updated_at", "2018-04-21 10:04:45.436083"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:04:45.437275"], ["updated_at", "2018-04-21 10:04:45.437275"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:04:45.438468"], ["updated_at", "2018-04-21 10:04:45.438468"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:04:45.439493"], ["updated_at", "2018-04-21 10:04:45.439493"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:04:45.440548"], ["updated_at", "2018-04-21 10:04:45.440548"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 10:04:45.446027"], ["updated_at", "2018-04-21 10:04:45.446027"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 10:04:45.457589"], ["updated_at", "2018-04-21 10:04:45.457589"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:07:26.672268"], ["updated_at", "2018-04-21 10:07:26.672268"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:07:26.680933"], ["updated_at", "2018-04-21 10:07:26.680933"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:07:26.682307"], ["updated_at", "2018-04-21 10:07:26.682307"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:07:26.683304"], ["updated_at", "2018-04-21 10:07:26.683304"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:07:26.684310"], ["updated_at", "2018-04-21 10:07:26.684310"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:07:26.685328"], ["updated_at", "2018-04-21 10:07:26.685328"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:07:26.686407"], ["updated_at", "2018-04-21 10:07:26.686407"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:07:26.687496"], ["updated_at", "2018-04-21 10:07:26.687496"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:07:26.688488"], ["updated_at", "2018-04-21 10:07:26.688488"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:07:26.689477"], ["updated_at", "2018-04-21 10:07:26.689477"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:07:26.690444"], ["updated_at", "2018-04-21 10:07:26.690444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:07:26.693322"], ["updated_at", "2018-04-21 10:07:26.693322"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:07:26.694915"], ["updated_at", "2018-04-21 10:07:26.694915"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:07:26.696062"], ["updated_at", "2018-04-21 10:07:26.696062"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:07:26.697056"], ["updated_at", "2018-04-21 10:07:26.697056"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:07:26.698014"], ["updated_at", "2018-04-21 10:07:26.698014"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:07:26.698961"], ["updated_at", "2018-04-21 10:07:26.698961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:07:26.699940"], ["updated_at", "2018-04-21 10:07:26.699940"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:07:26.701014"], ["updated_at", "2018-04-21 10:07:26.701014"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:07:26.702007"], ["updated_at", "2018-04-21 10:07:26.702007"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:07:26.703180"], ["updated_at", "2018-04-21 10:07:26.703180"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:07:26.704260"], ["updated_at", "2018-04-21 10:07:26.704260"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 10:07:26.709637"], ["updated_at", "2018-04-21 10:07:26.709637"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 10:07:26.720844"], ["updated_at", "2018-04-21 10:07:26.720844"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:08:23.425818"], ["updated_at", "2018-04-21 10:08:23.425818"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:08:23.434492"], ["updated_at", "2018-04-21 10:08:23.434492"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:08:23.435855"], ["updated_at", "2018-04-21 10:08:23.435855"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:08:23.436902"], ["updated_at", "2018-04-21 10:08:23.436902"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:08:23.437906"], ["updated_at", "2018-04-21 10:08:23.437906"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:08:23.438907"], ["updated_at", "2018-04-21 10:08:23.438907"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:08:23.439902"], ["updated_at", "2018-04-21 10:08:23.439902"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:08:23.440960"], ["updated_at", "2018-04-21 10:08:23.440960"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:08:23.442027"], ["updated_at", "2018-04-21 10:08:23.442027"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:08:23.443058"], ["updated_at", "2018-04-21 10:08:23.443058"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:08:23.444063"], ["updated_at", "2018-04-21 10:08:23.444063"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-21 10:08:23.446629"], ["from", "2018-04-21 11:08:23.446642"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:08:23.453074"], ["updated_at", "2018-04-21 10:08:23.453074"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:08:23.454659"], ["updated_at", "2018-04-21 10:08:23.454659"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:08:23.455818"], ["updated_at", "2018-04-21 10:08:23.455818"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:08:23.456934"], ["updated_at", "2018-04-21 10:08:23.456934"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:08:23.457945"], ["updated_at", "2018-04-21 10:08:23.457945"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 4"], ["restaurant_id", 1], ["created_at", "2018-04-21 10:08:23.458919"], ["updated_at", "2018-04-21 10:08:23.458919"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Some restaurant 1"], ["created_at", "2018-04-21 10:08:23.459904"], ["updated_at", "2018-04-21 10:08:23.459904"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 0"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:08:23.460971"], ["updated_at", "2018-04-21 10:08:23.460971"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 1"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:08:23.461992"], ["updated_at", "2018-04-21 10:08:23.461992"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 2"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:08:23.463152"], ["updated_at", "2018-04-21 10:08:23.463152"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "table 3"], ["restaurant_id", 2], ["created_at", "2018-04-21 10:08:23.464231"], ["updated_at", "2018-04-21 10:08:23.464231"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Tom"], ["created_at", "2018-04-21 10:08:23.469542"], ["updated_at", "2018-04-21 10:08:23.469542"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.0ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "reservations" ("from", "to", "user_id", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["from", "2018-04-20 23:00:00"], ["to", "2018-04-21 03:30:00"], ["user_id", 1], ["table_id", 1], ["created_at", "2018-04-21 10:08:23.477607"], ["updated_at", "2018-04-21 10:08:23.477607"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" WHERE "reservations"."table_id" = 1 AND ("reservations"."from" BETWEEN ? AND ?)[0m  [["from", "2018-04-20 23:00:00"], ["from", "2018-04-21 03:30:00"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
